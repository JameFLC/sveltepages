var qe=Object.defineProperty;var Fe=(n,e,t)=>e in n?qe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Se=(n,e,t)=>Fe(n,typeof e!="symbol"?e+"":e,t);import{s as ie,o as He,e as $,c as M,h as B,f as p,d as j,i as S,u as Ke,p as We,q as Je,a as N,t as X,b as L,j as Y,y as x,k as D,l as le,m as me,n as q,Q as Oe,z as he,R as Xe,F as Ye,C as $e,S as Pe,T as Qe,g as Ge,U as Ze}from"../chunks/scheduler.CEhgbHTO.js";import{S as oe,i as re,t as J,b as Q,f as et,c as ee,a as te,m as ne,d as se}from"../chunks/index.DqcSDKDI.js";import{C as tt}from"../chunks/counter.Dm13zYIO.js";function nt(n){let e,t;const o=n[1].default,i=He(o,n,n[0],null);return{c(){e=$("div"),i&&i.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var r=B(e);i&&i.l(r),r.forEach(p),this.h()},h(){j(e,"class","centerer svelte-14eozoa")},m(s,r){S(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&Ke(i,o,s,s[0],t?Je(o,s[0],r,null):We(s[0]),null)},i(s){t||(J(i,s),t=!0)},o(s){Q(i,s),t=!1},d(s){s&&p(e),i&&i.d(s)}}}function st(n,e,t){let{$$slots:o={},$$scope:i}=e;return n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,o]}class it extends oe{constructor(e){super(),re(this,e,st,nt,ie,{})}}class C{constructor(e=0,t=0){Se(this,"x",0);Se(this,"y",0);this.x=e,this.y=t}add(e){return new C(this.x+e.x,this.y+e.y)}sub(e){return new C(this.x-e.x,this.y-e.y)}}function ot(n){let e,t,o,i,s,r=n[4].x+"",u,f,a=n[4].y+"",v,m,b;return{c(){e=$("div"),t=$("div"),o=N(),i=$("p"),s=X("Offset is "),u=X(r),f=X(" : "),v=X(a),this.h()},l(h){e=M(h,"DIV",{class:!0,style:!0});var d=B(e);t=M(d,"DIV",{class:!0,style:!0}),B(t).forEach(p),d.forEach(p),o=L(h),i=M(h,"P",{});var z=B(i);s=Y(z,"Offset is "),u=Y(z,r),f=Y(z," : "),v=Y(z,a),z.forEach(p),this.h()},h(){j(t,"class","joystick svelte-ou15w2"),x(t,"--offset-x",n[4].x+"px"),x(t,"--offset-y",n[4].y+"px"),x(t,"--size-x",n[1].x+"px"),x(t,"--size-y",n[1].y+"px"),j(e,"class","dragzone svelte-ou15w2"),x(e,"--size-x",n[0].x+"px"),x(e,"--size-y",n[0].y+"px")},m(h,d){S(h,e,d),D(e,t),n[6](t),n[7](e),S(h,o,d),S(h,i,d),D(i,s),D(i,u),D(i,f),D(i,v),m||(b=le(e,"mousedown",n[5]),m=!0)},p(h,[d]){d&16&&x(t,"--offset-x",h[4].x+"px"),d&16&&x(t,"--offset-y",h[4].y+"px"),d&2&&x(t,"--size-x",h[1].x+"px"),d&2&&x(t,"--size-y",h[1].y+"px"),d&1&&x(e,"--size-x",h[0].x+"px"),d&1&&x(e,"--size-y",h[0].y+"px"),d&16&&r!==(r=h[4].x+"")&&me(u,r),d&16&&a!==(a=h[4].y+"")&&me(v,a)},i:q,o:q,d(h){h&&(p(e),p(o),p(i)),n[6](null),n[7](null),m=!1,b()}}}function Ve(n,e,t){return Math.min(Math.max(n,e),t)}function rt(n,e,t){let{containerSize:o=new C(128,128)}=e,{joystickSize:i=new C(64,64)}=e;const s=new C;let r,u,f=!1;const a=new C,v=Oe();function m(w){f=!0,s.x=w.clientX,s.y=w.clientY,h(w),window.addEventListener("mousemove",b),window.addEventListener("mouseup",d)}function b(w){f&&h(w)}function h(w){const c=new C(w.clientX,w.clientY),_=r.getBoundingClientRect(),I=new C(_.width,_.height),P=new C((_.left+_.right)/2,(_.top+_.bottom)/2),V=u.getBoundingClientRect(),l=new C(V.width,V.height),y=new C((I.x-l.x)/2,(I.y-l.y)/2),F=c.sub(P);t(4,a.x=Ve(F.x,-y.x,y.x),a),t(4,a.y=Ve(F.y,-y.y,y.y),a),v("dragged",{clampedOffset:a})}function d(){f=!1,window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",d)}function z(w){he[w?"unshift":"push"](()=>{u=w,t(3,u)})}function k(w){he[w?"unshift":"push"](()=>{r=w,t(2,r)})}return n.$$set=w=>{"containerSize"in w&&t(0,o=w.containerSize),"joystickSize"in w&&t(1,i=w.joystickSize)},[o,i,r,u,a,m,z,k]}class lt extends oe{constructor(e){super(),re(this,e,rt,ot,ie,{containerSize:0,joystickSize:1})}}function at(n){let e,t,o,i;return{c(){e=$("div"),t=$("div"),this.h()},l(s){e=M(s,"DIV",{class:!0,style:!0});var r=B(e);t=M(r,"DIV",{class:!0}),B(t).forEach(p),r.forEach(p),this.h()},h(){j(t,"class","tick svelte-gv6tps"),j(e,"class","knob svelte-gv6tps"),x(e,"--angle",n[1]+"deg")},m(s,r){S(s,e,r),D(e,t),n[3](e),o||(i=le(e,"mousedown",n[2]),o=!0)},p(s,[r]){r&2&&x(e,"--angle",s[1]+"deg")},i:q,o:q,d(s){s&&p(e),n[3](null),o=!1,i()}}}function ft(n,e){let t=e-n;return t=t%360,t>180&&(t-=360),t<-180&&(t+=360),t}function ut(n,e,t){const o=new C;let i,s=!1,r=new C,u=0,f=0,a=0;const v=Oe();function m(k){s=!0,o.x=k.clientX,o.y=k.clientY,h(k),window.addEventListener("mousemove",b),window.addEventListener("mouseup",d)}function b(k){s&&h(k)}function h(k){const w=new C(k.clientX,k.clientY),c=i.getBoundingClientRect(),_=new C((c.left+c.right)/2,(c.top+c.bottom)/2);r=w.sub(_);let P=Math.atan2(r.y,r.x)*(180/Math.PI)+90;a=ft(f,P),t(1,u+=a),v("angleChanged",{knobAngle:u}),f=P}function d(){s=!1,window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",d)}function z(k){he[k?"unshift":"push"](()=>{i=k,t(0,i)})}return[i,u,m,z]}class ct extends oe{constructor(e){super(),re(this,e,ut,at,ie,{})}}var xe={dragStart:!0},Ne=(n,e,t)=>Math.min(Math.max(n,e),t),De=n=>typeof n=="string",dt=([n,e],t,o)=>{const i=(s,r)=>r===0?0:Math.ceil(s/r)*r;return[i(t,n),i(o,e)]},Le=(n,e)=>n.some(t=>e.some(o=>t.contains(o)));function Ee(n,e){if(n===void 0)return;if(Ce(n))return n.getBoundingClientRect();if(typeof n=="object"){const{top:o=0,left:i=0,right:s=0,bottom:r=0}=n;return{top:o,right:window.innerWidth-s,bottom:window.innerHeight-r,left:i}}if(n==="parent")return e.parentNode.getBoundingClientRect();const t=document.querySelector(n);if(t===null)throw new Error("The selector provided for bound doesn't exists in the document.");return t.getBoundingClientRect()}var pe=(n,e,t)=>n.style.setProperty(e,t),Ce=n=>n instanceof HTMLElement,Te=(n,e={})=>{let t,o,{bounds:i,axis:s="both",gpuAcceleration:r=!0,legacyTranslate:u=!0,transform:f,applyUserSelectHack:a=!0,disabled:v=!1,ignoreMultitouch:m=!1,recomputeBounds:b=xe,grid:h,position:d,cancel:z,handle:k,defaultClass:w="neodrag",defaultClassDragging:c="neodrag-dragging",defaultClassDragged:_="neodrag-dragged",defaultPosition:I={x:0,y:0},onDragStart:P,onDrag:V,onDragEnd:l}=e,y=!1,F=0,G=0,ae=0,fe=0,_e=0,ve=0,{x:ce,y:de}=d?{x:(d==null?void 0:d.x)??0,y:(d==null?void 0:d.y)??0}:I;be(ce,de);let H,Z,ue,ye,Me,Re="",Ue=!!d;b={...xe,...b};let ge=new Set;const we=document.body.style,W=n.classList;function be(g=F,R=G){if(!f){if(u){let O=`${+g}px, ${+R}px`;return pe(n,"transform",r?`translate3d(${O}, 0)`:`translate(${O})`)}return pe(n,"translate",`${+g}px ${+R}px ${r?"1px":""}`)}const A=f({offsetX:g,offsetY:R,rootNode:n});De(A)&&pe(n,"transform",A)}const ze=(g,R)=>{const A={offsetX:F,offsetY:G,rootNode:n,currentNode:Me};n.dispatchEvent(new CustomEvent(g,{detail:A})),R==null||R(A)},ke=addEventListener;ke("pointerdown",je,!1),ke("pointerup",Ae,!1),ke("pointermove",Be,!1),pe(n,"touch-action","none");const Ie=()=>{let g=n.offsetWidth/Z.width;return isNaN(g)&&(g=1),g};function je(g){if(v||g.button===2)return;if(ge.add(g.pointerId),m&&ge.size>1)return g.preventDefault();if(b.dragStart&&(H=Ee(i,n)),De(k)&&De(z)&&k===z)throw new Error("`handle` selector can't be same as `cancel` selector");if(W.add(w),ue=function(E,U){if(!E)return[U];if(Ce(E))return[E];if(Array.isArray(E))return E;const K=U.querySelectorAll(E);if(K===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(K.values())}(k,n),ye=function(E,U){if(!E)return[];if(Ce(E))return[E];if(Array.isArray(E))return E;const K=U.querySelectorAll(E);if(K===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(K.values())}(z,n),t=/(both|x)/.test(s),o=/(both|y)/.test(s),Le(ye,ue))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const R=g.composedPath()[0];if(!ue.some(E=>{var U;return E.contains(R)||((U=E.shadowRoot)==null?void 0:U.contains(R))})||Le(ye,[R]))return;Me=ue.length===1?n:ue.find(E=>E.contains(R)),y=!0,Z=n.getBoundingClientRect(),a&&(Re=we.userSelect,we.userSelect="none"),ze("neodrag:start",P);const{clientX:A,clientY:O}=g,T=Ie();t&&(ae=A-ce/T),o&&(fe=O-de/T),H&&(_e=A-Z.left,ve=O-Z.top)}function Ae(g){ge.delete(g.pointerId),y&&(b.dragEnd&&(H=Ee(i,n)),W.remove(c),W.add(_),a&&(we.userSelect=Re),ze("neodrag:end",l),t&&(ae=F),o&&(fe=G),y=!1)}function Be(g){if(!y||m&&ge.size>1)return;b.drag&&(H=Ee(i,n)),W.add(c),g.preventDefault(),Z=n.getBoundingClientRect();let R=g.clientX,A=g.clientY;const O=Ie();if(H){const T={left:H.left+_e,top:H.top+ve,right:H.right+_e-Z.width,bottom:H.bottom+ve-Z.height};R=Ne(R,T.left,T.right),A=Ne(A,T.top,T.bottom)}if(Array.isArray(h)){let[T,E]=h;if(isNaN(+T)||T<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+E)||E<0)throw new Error("2nd argument of `grid` must be a valid positive number");let U=R-ae,K=A-fe;[U,K]=dt([T/O,E/O],U,K),R=ae+U,A=fe+K}t&&(F=Math.round((R-ae)*O)),o&&(G=Math.round((A-fe)*O)),ce=F,de=G,ze("neodrag",V),be()}return{destroy:()=>{const g=removeEventListener;g("pointerdown",je,!1),g("pointerup",Ae,!1),g("pointermove",Be,!1)},update:g=>{var A,O;s=g.axis||"both",v=g.disabled??!1,m=g.ignoreMultitouch??!1,k=g.handle,i=g.bounds,b=g.recomputeBounds??xe,z=g.cancel,a=g.applyUserSelectHack??!0,h=g.grid,r=g.gpuAcceleration??!0,u=g.legacyTranslate??!0,f=g.transform;const R=W.contains(_);W.remove(w,_),w=g.defaultClass??"neodrag",c=g.defaultClassDragging??"neodrag-dragging",_=g.defaultClassDragged??"neodrag-dragged",W.add(w),R&&W.add(_),Ue&&(ce=F=((A=g.position)==null?void 0:A.x)??F,de=G=((O=g.position)==null?void 0:O.y)??G,be())}}};function gt(n){let e,t,o,i,s;return{c(){e=$("div"),t=$("div"),this.h()},l(r){e=M(r,"DIV",{class:!0,style:!0});var u=B(e);t=M(u,"DIV",{class:!0,style:!0}),B(t).forEach(p),u.forEach(p),this.h()},h(){j(t,"class","joystick svelte-16iwa01"),x(t,"--size-x",n[2].x+"px"),x(t,"--size-y",n[2].y+"px"),j(e,"class","dragzone svelte-16iwa01"),x(e,"--size-x",n[1].x+"px"),x(e,"--size-y",n[1].y+"px")},m(r,u){S(r,e,u),D(e,t),i||(s=[Xe(o=Te.call(null,t,{position:n[0],bounds:"parent",onDrag:n[3]})),le(t,"neodrag:end",n[4])],i=!0)},p(r,[u]){u&4&&x(t,"--size-x",r[2].x+"px"),u&4&&x(t,"--size-y",r[2].y+"px"),o&&Ye(o.update)&&u&1&&o.update.call(null,{position:r[0],bounds:"parent",onDrag:r[3]}),u&2&&x(e,"--size-x",r[1].x+"px"),u&2&&x(e,"--size-y",r[1].y+"px")},i:q,o:q,d(r){r&&p(e),i=!1,$e(s)}}}function pt(n,e,t){let{containerSize:o=new C(128,128)}=e,{joystickSize:i=new C(64,64)}=e,{position:s={x:0,y:0}}=e;const r=({offsetX:f,offsetY:a})=>{t(0,s={x:f,y:a})},u=f=>t(0,s={x:0,y:0});return n.$$set=f=>{"containerSize"in f&&t(1,o=f.containerSize),"joystickSize"in f&&t(2,i=f.joystickSize),"position"in f&&t(0,s=f.position)},[s,o,i,r,u]}class mt extends oe{constructor(e){super(),re(this,e,pt,gt,ie,{containerSize:1,joystickSize:2,position:0})}}function ht(n){let e,t,o,i,s,r,u,f;return{c(){e=$("div"),t=$("div"),o=$("div"),i=N(),s=$("div"),this.h()},l(a){e=M(a,"DIV",{class:!0});var v=B(e);t=M(v,"DIV",{class:!0,style:!0});var m=B(t);o=M(m,"DIV",{class:!0}),B(o).forEach(p),m.forEach(p),i=L(v),s=M(v,"DIV",{class:!0}),B(s).forEach(p),v.forEach(p),this.h()},h(){j(o,"class","tick svelte-181p61a"),j(t,"class","knob svelte-181p61a"),x(t,"--angle",n[1]+"deg"),j(s,"class","drag-zone svelte-181p61a"),j(e,"class","knob-container svelte-181p61a")},m(a,v){S(a,e,v),D(e,t),D(t,o),D(e,i),D(e,s),u||(f=[Xe(r=Te.call(null,s,{position:n[0],onDrag:n[3]})),le(s,"neodrag:end",n[4])],u=!0)},p(a,[v]){v&2&&x(t,"--angle",a[1]+"deg"),r&&Ye(r.update)&&v&1&&r.update.call(null,{position:a[0],onDrag:a[3]})},i:q,o:q,d(a){a&&p(e),u=!1,$e(f)}}}function _t(n,e){let t=e-n;return t=t%360,t>180&&(t-=360),t<-180&&(t+=360),t}function vt(n,e,t){let o={x:0,y:0},i=0,s=0,r=0;function u(){let m=Math.atan2(o.y,o.x)*(180/Math.PI)+90;r=_t(s,m),t(1,i+=r),s=m}return[o,i,u,({offsetX:v,offsetY:m})=>{t(0,o={x:v,y:m}),u()},v=>t(0,o={x:0,y:0})]}class yt extends oe{constructor(e){super(),re(this,e,vt,ht,ie,{})}}function wt(n){let e,t,o;return{c(){e=$("input"),this.h()},l(i){e=M(i,"INPUT",{type:!0,min:!0,max:!0,step:!0}),this.h()},h(){j(e,"type","range"),j(e,"min",n[1]),j(e,"max",n[2]),j(e,"step",n[3])},m(i,s){S(i,e,s),Pe(e,n[0]),t||(o=[le(e,"change",n[4]),le(e,"input",n[4])],t=!0)},p(i,[s]){s&2&&j(e,"min",i[1]),s&4&&j(e,"max",i[2]),s&8&&j(e,"step",i[3]),s&1&&Pe(e,i[0])},i:q,o:q,d(i){i&&p(e),t=!1,$e(o)}}}function bt(n,e,t){let{min:o=0}=e,{max:i=100}=e,{step:s=1}=e,{value:r=0}=e;function u(){r=Qe(this.value),t(0,r)}return n.$$set=f=>{"min"in f&&t(1,o=f.min),"max"in f&&t(2,i=f.max),"step"in f&&t(3,s=f.step),"value"in f&&t(0,r=f.value)},[r,o,i,s,u]}class zt extends oe{constructor(e){super(),re(this,e,bt,wt,ie,{min:1,max:2,step:3,value:0})}}function kt(n){let e,t,o=n[2].x.toFixed(0)+"",i,s,r=n[2].y.toFixed(0)+"",u;return{c(){e=$("p"),t=X("offset is "),i=X(o),s=X(" : "),u=X(r)},l(f){e=M(f,"P",{});var a=B(e);t=Y(a,"offset is "),i=Y(a,o),s=Y(a," : "),u=Y(a,r),a.forEach(p)},m(f,a){S(f,e,a),D(e,t),D(e,i),D(e,s),D(e,u)},p:q,d(f){f&&p(e)}}}function St(n){let e,t,o,i,s=(n[1]?n[1].toFixed(2):"0.00")+"",r,u,f,a,v,m,b,h,d,z,k,w,c,_,I,P;e=new ct({}),e.$on("angleChanged",n[4]),m=new lt({props:{containerSize:new C(512,512),joystickSize:new C(96,96)}}),m.$on("angleChanged",n[5]);let V=n[2]&&kt(n);return d=new yt({}),I=new mt({props:{containerSize:new C(512,512),joystickSize:new C(96,96)}}),{c(){ee(e.$$.fragment),t=N(),o=$("p"),i=X("angle is "),r=X(s),u=X(" degrees"),f=N(),a=$("br"),v=N(),ee(m.$$.fragment),b=N(),V&&V.c(),h=N(),ee(d.$$.fragment),z=N(),k=$("br"),w=N(),c=$("br"),_=N(),ee(I.$$.fragment)},l(l){te(e.$$.fragment,l),t=L(l),o=M(l,"P",{});var y=B(o);i=Y(y,"angle is "),r=Y(y,s),u=Y(y," degrees"),y.forEach(p),f=L(l),a=M(l,"BR",{}),v=L(l),te(m.$$.fragment,l),b=L(l),V&&V.l(l),h=L(l),te(d.$$.fragment,l),z=L(l),k=M(l,"BR",{}),w=L(l),c=M(l,"BR",{}),_=L(l),te(I.$$.fragment,l)},m(l,y){ne(e,l,y),S(l,t,y),S(l,o,y),D(o,i),D(o,r),D(o,u),S(l,f,y),S(l,a,y),S(l,v,y),ne(m,l,y),S(l,b,y),V&&V.m(l,y),S(l,h,y),ne(d,l,y),S(l,z,y),S(l,k,y),S(l,w,y),S(l,c,y),S(l,_,y),ne(I,l,y),P=!0},p(l,y){(!P||y&2)&&s!==(s=(l[1]?l[1].toFixed(2):"0.00")+"")&&me(r,s),l[2]&&V.p(l,y)},i(l){P||(J(e.$$.fragment,l),J(m.$$.fragment,l),J(d.$$.fragment,l),J(I.$$.fragment,l),P=!0)},o(l){Q(e.$$.fragment,l),Q(m.$$.fragment,l),Q(d.$$.fragment,l),Q(I.$$.fragment,l),P=!1},d(l){l&&(p(t),p(o),p(f),p(a),p(v),p(b),p(h),p(z),p(k),p(w),p(c),p(_)),se(e,l),se(m,l),V&&V.d(l),se(d,l),se(I,l)}}}function xt(n){let e,t,o,i,s,r="baba",u,f,a,v,m,b,h,d,z;e=new tt({});function k(c){n[3](c)}let w={step:1};return n[0]!==void 0&&(w.value=n[0]),m=new zt({props:w}),he.push(()=>et(m,"value",k)),d=new it({props:{$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=N(),o=$("p"),i=X("Value of the slider is "),s=$("kbd"),s.textContent=r,u=N(),f=$("code"),a=X(n[0]),v=N(),ee(m.$$.fragment),h=N(),ee(d.$$.fragment)},l(c){te(e.$$.fragment,c),t=L(c),o=M(c,"P",{});var _=B(o);i=Y(_,"Value of the slider is "),s=M(_,"KBD",{"data-svelte-h":!0}),Ge(s)!=="svelte-15gsgs4"&&(s.textContent=r),u=L(_),f=M(_,"CODE",{});var I=B(f);a=Y(I,n[0]),I.forEach(p),_.forEach(p),v=L(c),te(m.$$.fragment,c),h=L(c),te(d.$$.fragment,c)},m(c,_){ne(e,c,_),S(c,t,_),S(c,o,_),D(o,i),D(o,s),D(o,u),D(o,f),D(f,a),S(c,v,_),ne(m,c,_),S(c,h,_),ne(d,c,_),z=!0},p(c,[_]){(!z||_&1)&&me(a,c[0]);const I={};!b&&_&1&&(b=!0,I.value=c[0],Ze(()=>b=!1)),m.$set(I);const P={};_&66&&(P.$$scope={dirty:_,ctx:c}),d.$set(P)},i(c){z||(J(e.$$.fragment,c),J(m.$$.fragment,c),J(d.$$.fragment,c),z=!0)},o(c){Q(e.$$.fragment,c),Q(m.$$.fragment,c),Q(d.$$.fragment,c),z=!1},d(c){c&&(p(t),p(o),p(v),p(h)),se(e,c),se(m,c),se(d,c)}}}function Dt(n,e,t){let o,i,s;function r(a){o=a,t(0,o)}return[o,i,s,r,a=>{t(1,i=a.detail.knobAngle)},a=>{t(1,i=a.detail.clampedOffset)}]}class Rt extends oe{constructor(e){super(),re(this,e,Dt,xt,ie,{})}}export{Rt as component};
