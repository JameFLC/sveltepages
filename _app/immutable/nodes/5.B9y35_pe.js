var Xe=Object.defineProperty;var He=(n,e,t)=>e in n?Xe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>He(n,typeof e!="symbol"?e+"":e,t);import{s as Z,c as Le,u as Ye,g as Oe,a as Ue,x as Ee,i as Se,n as j,r as ce,e as Fe,y as We}from"../chunks/scheduler.DdkJUDWp.js";import{S as ee,i as te,e as x,a as E,o as $,k as g,f as z,h as D,t as O,j as U,x as R,q as C,r as F,s as A,b as V,A as Be,B as Ge,C as Ke,c as G,n as Re,d as K,p as Ne,g as Je,m as J,u as Qe,l as Q}from"../chunks/index.BNXqwp--.js";import{C as Ze}from"../chunks/counter.9enF2eNO.js";function et(n){let e,t;const i=n[1].default,r=Le(i,n,n[0],null);return{c(){e=x("div"),r&&r.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var a=$(e);r&&r.l(a),a.forEach(g),this.h()},h(){z(e,"class","centerer svelte-14eozoa")},m(s,a){D(s,e,a),r&&r.m(e,null),t=!0},p(s,[a]){r&&r.p&&(!t||a&1)&&Ye(r,i,s,s[0],t?Ue(i,s[0],a,null):Oe(s[0]),null)},i(s){t||(O(r,s),t=!0)},o(s){U(r,s),t=!1},d(s){s&&g(e),r&&r.d(s)}}}function tt(n,e,t){let{$$slots:i={},$$scope:r}=e;return n.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,i]}class nt extends ee{constructor(e){super(),te(this,e,tt,et,Z,{})}}class W{constructor(e=0,t=0){be(this,"x",0);be(this,"y",0);this.x=e,this.y=t}add(e){return new W(this.x+e.x,this.y+e.y)}sub(e){return new W(this.x-e.x,this.y-e.y)}}var ye={dragStart:!0},qe=(n,e,t)=>Math.min(Math.max(n,e),t),we=n=>typeof n=="string",st=([n,e],t,i)=>{const r=(s,a)=>a===0?0:Math.ceil(s/a)*a;return[r(t,n),r(i,e)]},Me=(n,e)=>n.some(t=>e.some(i=>t.contains(i)));function De(n,e){if(n===void 0)return;if(xe(n))return n.getBoundingClientRect();if(typeof n=="object"){const{top:i=0,left:r=0,right:s=0,bottom:a=0}=n;return{top:i,right:window.innerWidth-s,bottom:window.innerHeight-a,left:r}}if(n==="parent")return e.parentNode.getBoundingClientRect();const t=document.querySelector(n);if(t===null)throw new Error("The selector provided for bound doesn't exists in the document.");return t.getBoundingClientRect()}var fe=(n,e,t)=>n.style.setProperty(e,t),xe=n=>n instanceof HTMLElement,ze=(n,e={})=>{let t,i,{bounds:r,axis:s="both",gpuAcceleration:a=!0,legacyTranslate:f=!0,transform:u,applyUserSelectHack:p=!0,disabled:m=!1,ignoreMultitouch:h=!1,recomputeBounds:b=ye,grid:y,position:_,cancel:l,handle:d,defaultClass:v="neodrag",defaultClassDragging:o="neodrag-dragging",defaultClassDragged:w="neodrag-dragged",defaultPosition:X={x:0,y:0},onDragStart:ie,onDrag:Pe,onDragEnd:je}=e,ae=!1,H=0,L=0,ne=0,se=0,de=0,ge=0,{x:oe,y:le}=_?{x:(_==null?void 0:_.x)??0,y:(_==null?void 0:_.y)??0}:X;he(oe,le);let M,Y,re,me,ke,Ce="",Te=!!_;b={...ye,...b};let ue=new Set;const pe=document.body.style,T=n.classList;function he(c=H,k=L){if(!u){if(f){let B=`${+c}px, ${+k}px`;return fe(n,"transform",a?`translate3d(${B}, 0)`:`translate(${B})`)}return fe(n,"translate",`${+c}px ${+k}px ${a?"1px":""}`)}const I=u({offsetX:c,offsetY:k,rootNode:n});we(I)&&fe(n,"transform",I)}const ve=(c,k)=>{const I={offsetX:H,offsetY:L,rootNode:n,currentNode:ke};n.dispatchEvent(new CustomEvent(c,{detail:I})),k==null||k(I)},_e=addEventListener;_e("pointerdown",$e,!1),_e("pointerup",Ae,!1),_e("pointermove",Ve,!1),fe(n,"touch-action","none");const Ie=()=>{let c=n.offsetWidth/Y.width;return isNaN(c)&&(c=1),c};function $e(c){if(m||c.button===2)return;if(ue.add(c.pointerId),h&&ue.size>1)return c.preventDefault();if(b.dragStart&&(M=De(r,n)),we(d)&&we(l)&&d===l)throw new Error("`handle` selector can't be same as `cancel` selector");if(T.add(v),re=function(S,q){if(!S)return[q];if(xe(S))return[S];if(Array.isArray(S))return S;const P=q.querySelectorAll(S);if(P===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(P.values())}(d,n),me=function(S,q){if(!S)return[];if(xe(S))return[S];if(Array.isArray(S))return S;const P=q.querySelectorAll(S);if(P===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(P.values())}(l,n),t=/(both|x)/.test(s),i=/(both|y)/.test(s),Me(me,re))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const k=c.composedPath()[0];if(!re.some(S=>{var q;return S.contains(k)||((q=S.shadowRoot)==null?void 0:q.contains(k))})||Me(me,[k]))return;ke=re.length===1?n:re.find(S=>S.contains(k)),ae=!0,Y=n.getBoundingClientRect(),p&&(Ce=pe.userSelect,pe.userSelect="none"),ve("neodrag:start",ie);const{clientX:I,clientY:B}=c,N=Ie();t&&(ne=I-oe/N),i&&(se=B-le/N),M&&(de=I-Y.left,ge=B-Y.top)}function Ae(c){ue.delete(c.pointerId),ae&&(b.dragEnd&&(M=De(r,n)),T.remove(o),T.add(w),p&&(pe.userSelect=Ce),ve("neodrag:end",je),t&&(ne=H),i&&(se=L),ae=!1)}function Ve(c){if(!ae||h&&ue.size>1)return;b.drag&&(M=De(r,n)),T.add(o),c.preventDefault(),Y=n.getBoundingClientRect();let k=c.clientX,I=c.clientY;const B=Ie();if(M){const N={left:M.left+de,top:M.top+ge,right:M.right+de-Y.width,bottom:M.bottom+ge-Y.height};k=qe(k,N.left,N.right),I=qe(I,N.top,N.bottom)}if(Array.isArray(y)){let[N,S]=y;if(isNaN(+N)||N<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+S)||S<0)throw new Error("2nd argument of `grid` must be a valid positive number");let q=k-ne,P=I-se;[q,P]=st([N/B,S/B],q,P),k=ne+q,I=se+P}t&&(H=Math.round((k-ne)*B)),i&&(L=Math.round((I-se)*B)),oe=H,le=L,ve("neodrag",Pe),he()}return{destroy:()=>{const c=removeEventListener;c("pointerdown",$e,!1),c("pointerup",Ae,!1),c("pointermove",Ve,!1)},update:c=>{var I,B;s=c.axis||"both",m=c.disabled??!1,h=c.ignoreMultitouch??!1,d=c.handle,r=c.bounds,b=c.recomputeBounds??ye,l=c.cancel,p=c.applyUserSelectHack??!0,y=c.grid,a=c.gpuAcceleration??!0,f=c.legacyTranslate??!0,u=c.transform;const k=T.contains(w);T.remove(v,w),v=c.defaultClass??"neodrag",o=c.defaultClassDragging??"neodrag-dragging",w=c.defaultClassDragged??"neodrag-dragged",T.add(v),k&&T.add(w),Te&&(oe=H=((I=c.position)==null?void 0:I.x)??H,le=L=((B=c.position)==null?void 0:B.y)??L,he())}}};function rt(n){let e,t,i,r,s;return{c(){e=x("div"),t=x("div"),this.h()},l(a){e=E(a,"DIV",{class:!0,style:!0});var f=$(e);t=E(f,"DIV",{class:!0,style:!0}),$(t).forEach(g),f.forEach(g),this.h()},h(){z(t,"class","joystick svelte-1x303ur"),R(t,"--size-x",n[2].x+"px"),R(t,"--size-y",n[2].y+"px"),z(e,"class","dragzone svelte-1x303ur"),R(e,"--size-x",n[1].x+"px"),R(e,"--size-y",n[1].y+"px")},m(a,f){D(a,e,f),C(e,t),r||(s=[Ee(i=ze.call(null,t,{position:n[0],bounds:"parent",onDrag:n[3]})),F(t,"neodrag:end",n[4])],r=!0)},p(a,[f]){f&4&&R(t,"--size-x",a[2].x+"px"),f&4&&R(t,"--size-y",a[2].y+"px"),i&&Se(i.update)&&f&1&&i.update.call(null,{position:a[0],bounds:"parent",onDrag:a[3]}),f&2&&R(e,"--size-x",a[1].x+"px"),f&2&&R(e,"--size-y",a[1].y+"px")},i:j,o:j,d(a){a&&g(e),r=!1,ce(s)}}}function it(n,e,t){let{containerSize:i=new W(128,128)}=e,{joystickSize:r=new W(64,64)}=e,{position:s={x:0,y:0}}=e;const a=({offsetX:u,offsetY:p})=>{t(0,s={x:u,y:p})},f=u=>t(0,s={x:0,y:0});return n.$$set=u=>{"containerSize"in u&&t(1,i=u.containerSize),"joystickSize"in u&&t(2,r=u.joystickSize),"position"in u&&t(0,s=u.position)},[s,i,r,a,f]}class at extends ee{constructor(e){super(),te(this,e,it,rt,Z,{containerSize:1,joystickSize:2,position:0})}}function ot(n){let e,t,i,r,s,a,f,u;return{c(){e=x("div"),t=x("div"),i=x("div"),r=A(),s=x("div"),this.h()},l(p){e=E(p,"DIV",{class:!0});var m=$(e);t=E(m,"DIV",{class:!0,style:!0});var h=$(t);i=E(h,"DIV",{class:!0}),$(i).forEach(g),h.forEach(g),r=V(m),s=E(m,"DIV",{class:!0}),$(s).forEach(g),m.forEach(g),this.h()},h(){z(i,"class","tick svelte-tq6oae"),z(t,"class","knob svelte-tq6oae"),R(t,"--angle",n[1]+"deg"),z(s,"class","drag-zone svelte-tq6oae"),z(e,"class","knob-container svelte-tq6oae")},m(p,m){D(p,e,m),C(e,t),C(t,i),C(e,r),C(e,s),f||(u=[Ee(a=ze.call(null,s,{position:n[0],onDrag:n[3]})),F(s,"neodrag:end",n[4])],f=!0)},p(p,[m]){m&2&&R(t,"--angle",p[1]+"deg"),a&&Se(a.update)&&m&1&&a.update.call(null,{position:p[0],onDrag:p[3]})},i:j,o:j,d(p){p&&g(e),f=!1,ce(u)}}}function lt(n,e){let t=e-n;return t=t%360,t>180&&(t-=360),t<-180&&(t+=360),t}function ut(n,e,t){let i={x:0,y:0},r=0,s=0,a=0;function f(){let h=Math.atan2(i.y,i.x)*(180/Math.PI)+90;a=lt(s,h),t(1,r+=a),s=h}return[i,r,f,({offsetX:m,offsetY:h})=>{t(0,i={x:m,y:h}),f()},m=>t(0,i={x:0,y:0})]}class ft extends ee{constructor(e){super(),te(this,e,ut,ot,Z,{})}}function ct(n){let e,t,i,r,s,a,f,u,p,m,h,b,y,_,l,d;return{c(){e=x("div"),t=x("div"),i=A(),r=x("div"),s=A(),a=x("div"),f=A(),u=x("div"),p=A(),m=x("br"),h=A(),b=x("div"),y=x("div"),this.h()},l(v){e=E(v,"DIV",{class:!0,style:!0});var o=$(e);t=E(o,"DIV",{class:!0}),$(t).forEach(g),i=V(o),r=E(o,"DIV",{class:!0}),$(r).forEach(g),s=V(o),a=E(o,"DIV",{class:!0}),$(a).forEach(g),f=V(o),u=E(o,"DIV",{class:!0}),$(u).forEach(g),o.forEach(g),p=V(v),m=E(v,"BR",{}),h=V(v),b=E(v,"DIV",{class:!0});var w=$(b);y=E(w,"DIV",{class:!0}),$(y).forEach(g),w.forEach(g),this.h()},h(){z(t,"class","topleft svelte-16r83yb"),z(r,"class","topright svelte-16r83yb"),z(a,"class","bottomleft svelte-16r83yb"),z(u,"class","bottomright svelte-16r83yb"),z(e,"class","wheel svelte-16r83yb"),R(e,"--angle",n[0]*n[2]/10+"deg"),z(y,"class","grabbable svelte-16r83yb"),z(b,"class","grab-zone svelte-16r83yb")},m(v,o){D(v,e,o),C(e,t),C(e,i),C(e,r),C(e,s),C(e,a),C(e,f),C(e,u),D(v,p,o),D(v,m,o),D(v,h,o),D(v,b,o),C(b,y),l||(d=[Ee(_=ze.call(null,y,{position:n[1],axis:"x",grid:[10,10]})),F(y,"neodrag:start",n[7]),F(y,"neodrag",n[8]),F(y,"neodrag:end",n[9])],l=!0)},p(v,[o]){o&5&&R(e,"--angle",v[0]*v[2]/10+"deg"),_&&Se(_.update)&&o&2&&_.update.call(null,{position:v[1],axis:"x",grid:[10,10]})},i:j,o:j,d(v){v&&(g(e),g(p),g(m),g(h),g(b)),l=!1,ce(d)}}}let dt=!1;function gt(n,e,t){let{damping:i=1}=e,{speed:r=1}=e,s={x:0,y:0},a=0,f=0,u=performance.now(),p=0,m=0;function h(d){t(1,s={x:d,y:0}),t(2,a=d+p);const v=performance.now(),o=(v-u)/1e3;m=(a-f)/o,f=a,u=v}function b(){const d=performance.now(),v=(d-u)/1e3;t(2,a=f+m*v),m=m*(1-i*v),u=d,!(Math.abs(m)<1||dt)&&(f=a,requestAnimationFrame(b))}const y=d=>{t(3,p=a)},_=d=>{console.log(d),h(d.detail.offsetX)},l=d=>{t(1,s={x:0,y:0}),requestAnimationFrame(b)};return n.$$set=d=>{"damping"in d&&t(6,i=d.damping),"speed"in d&&t(0,r=d.speed)},[r,s,a,p,h,b,i,y,_,l]}class mt extends ee{constructor(e){super(),te(this,e,gt,ct,Z,{damping:6,speed:0})}}function pt(n){let e,t,i;return{c(){e=x("input"),this.h()},l(r){e=E(r,"INPUT",{type:!0,min:!0,max:!0,step:!0}),this.h()},h(){z(e,"type","range"),z(e,"min",n[1]),z(e,"max",n[2]),z(e,"step",n[3])},m(r,s){D(r,e,s),Be(e,n[0]),t||(i=[F(e,"change",n[4]),F(e,"input",n[4])],t=!0)},p(r,[s]){s&2&&z(e,"min",r[1]),s&4&&z(e,"max",r[2]),s&8&&z(e,"step",r[3]),s&1&&Be(e,r[0])},i:j,o:j,d(r){r&&g(e),t=!1,ce(i)}}}function ht(n,e,t){let{min:i=0}=e,{max:r=100}=e,{step:s=1}=e,{value:a=0}=e;function f(){a=Ge(this.value),t(0,a)}return n.$$set=u=>{"min"in u&&t(1,i=u.min),"max"in u&&t(2,r=u.max),"step"in u&&t(3,s=u.step),"value"in u&&t(0,a=u.value)},[a,i,r,s,f]}class vt extends ee{constructor(e){super(),te(this,e,ht,pt,Z,{min:1,max:2,step:3,value:0})}}function _t(n){let e,t,i,r,s,a,f,u,p,m,h,b,y,_;return e=new ft({}),f=new at({props:{containerSize:new W(512,512),joystickSize:new W(96,96)}}),y=new mt({props:{damping:3,speed:-1.5}}),{c(){G(e.$$.fragment),t=A(),i=x("br"),r=A(),s=x("br"),a=A(),G(f.$$.fragment),u=A(),p=x("br"),m=A(),h=x("br"),b=A(),G(y.$$.fragment)},l(l){K(e.$$.fragment,l),t=V(l),i=E(l,"BR",{}),r=V(l),s=E(l,"BR",{}),a=V(l),K(f.$$.fragment,l),u=V(l),p=E(l,"BR",{}),m=V(l),h=E(l,"BR",{}),b=V(l),K(y.$$.fragment,l)},m(l,d){J(e,l,d),D(l,t,d),D(l,i,d),D(l,r,d),D(l,s,d),D(l,a,d),J(f,l,d),D(l,u,d),D(l,p,d),D(l,m,d),D(l,h,d),D(l,b,d),J(y,l,d),_=!0},p:j,i(l){_||(O(e.$$.fragment,l),O(f.$$.fragment,l),O(y.$$.fragment,l),_=!0)},o(l){U(e.$$.fragment,l),U(f.$$.fragment,l),U(y.$$.fragment,l),_=!1},d(l){l&&(g(t),g(i),g(r),g(s),g(a),g(u),g(p),g(m),g(h),g(b)),Q(e,l),Q(f,l),Q(y,l)}}}function bt(n){let e,t,i,r,s,a="baba",f,u,p,m,h,b,y,_,l;e=new Ze({});function d(o){n[1](o)}let v={step:1};return n[0]!==void 0&&(v.value=n[0]),h=new vt({props:v}),Fe.push(()=>Ke(h,"value",d)),_=new nt({props:{$$slots:{default:[_t]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment),t=A(),i=x("p"),r=Re("Value of the slider is "),s=x("kbd"),s.textContent=a,f=A(),u=x("code"),p=Re(n[0]),m=A(),G(h.$$.fragment),y=A(),G(_.$$.fragment)},l(o){K(e.$$.fragment,o),t=V(o),i=E(o,"P",{});var w=$(i);r=Ne(w,"Value of the slider is "),s=E(w,"KBD",{"data-svelte-h":!0}),Je(s)!=="svelte-15gsgs4"&&(s.textContent=a),f=V(w),u=E(w,"CODE",{});var X=$(u);p=Ne(X,n[0]),X.forEach(g),w.forEach(g),m=V(o),K(h.$$.fragment,o),y=V(o),K(_.$$.fragment,o)},m(o,w){J(e,o,w),D(o,t,w),D(o,i,w),C(i,r),C(i,s),C(i,f),C(i,u),C(u,p),D(o,m,w),J(h,o,w),D(o,y,w),J(_,o,w),l=!0},p(o,[w]){(!l||w&1)&&Qe(p,o[0]);const X={};!b&&w&1&&(b=!0,X.value=o[0],We(()=>b=!1)),h.$set(X);const ie={};w&16&&(ie.$$scope={dirty:w,ctx:o}),_.$set(ie)},i(o){l||(O(e.$$.fragment,o),O(h.$$.fragment,o),O(_.$$.fragment,o),l=!0)},o(o){U(e.$$.fragment,o),U(h.$$.fragment,o),U(_.$$.fragment,o),l=!1},d(o){o&&(g(t),g(i),g(m),g(y)),Q(e,o),Q(h,o),Q(_,o)}}}function yt(n,e,t){let i;function r(s){i=s,t(0,i)}return[i,r]}class St extends ee{constructor(e){super(),te(this,e,yt,bt,Z,{})}}export{St as component};
