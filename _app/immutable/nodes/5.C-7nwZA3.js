var se=Object.defineProperty;var ie=(n,e,t)=>e in n?se(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var G=(n,e,t)=>ie(n,typeof e!="symbol"?e+"":e,t);import{s as Y,o as le,e as S,c as x,h as M,f as _,d as D,i as b,u as oe,p as ae,q as fe,a as j,t as E,b as I,j as $,y as C,k,l as T,m as J,n as P,Q as ne,z as N,R as Z,C as ue,S as re,g as ce,T as me,v as ee}from"../chunks/scheduler.B9bDL_zU.js";import{S as U,i as q,t as L,b as V,f as de,c as B,a as A,m as F,d as X}from"../chunks/index.CLETXuB-.js";import{C as pe}from"../chunks/counter.RlLNSHQZ.js";function _e(n){let e,t;const l=n[1].default,s=le(l,n,n[0],null);return{c(){e=S("div"),s&&s.c(),this.h()},l(i){e=x(i,"DIV",{class:!0});var a=M(e);s&&s.l(a),a.forEach(_),this.h()},h(){D(e,"class","centerer svelte-14eozoa")},m(i,a){b(i,e,a),s&&s.m(e,null),t=!0},p(i,[a]){s&&s.p&&(!t||a&1)&&oe(s,l,i,i[0],t?fe(l,i[0],a,null):ae(i[0]),null)},i(i){t||(L(s,i),t=!0)},o(i){V(s,i),t=!1},d(i){i&&_(e),s&&s.d(i)}}}function ge(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class he extends U{constructor(e){super(),q(this,e,ge,_e,Y,{})}}class y{constructor(e=0,t=0){G(this,"x",0);G(this,"y",0);this.x=e,this.y=t}add(e){return new y(this.x+e.x,this.y+e.y)}sub(e){return new y(this.x-e.x,this.y-e.y)}}function ve(n){let e,t,l,s,i,a=n[4].x+"",p,c,r=n[4].y+"",w,h,z;return{c(){e=S("div"),t=S("div"),l=j(),s=S("p"),i=E("Offset is "),p=E(a),c=E(" : "),w=E(r),this.h()},l(d){e=x(d,"DIV",{class:!0,style:!0});var m=M(e);t=x(m,"DIV",{class:!0,style:!0}),M(t).forEach(_),m.forEach(_),l=I(d),s=x(d,"P",{});var v=M(s);i=$(v,"Offset is "),p=$(v,a),c=$(v," : "),w=$(v,r),v.forEach(_),this.h()},h(){D(t,"class","joystick svelte-ou15w2"),C(t,"--offset-x",n[4].x+"px"),C(t,"--offset-y",n[4].y+"px"),C(t,"--size-x",n[1].x+"px"),C(t,"--size-y",n[1].y+"px"),D(e,"class","dragzone svelte-ou15w2"),C(e,"--size-x",n[0].x+"px"),C(e,"--size-y",n[0].y+"px")},m(d,m){b(d,e,m),k(e,t),n[6](t),n[7](e),b(d,l,m),b(d,s,m),k(s,i),k(s,p),k(s,c),k(s,w),h||(z=T(e,"mousedown",n[5]),h=!0)},p(d,[m]){m&16&&C(t,"--offset-x",d[4].x+"px"),m&16&&C(t,"--offset-y",d[4].y+"px"),m&2&&C(t,"--size-x",d[1].x+"px"),m&2&&C(t,"--size-y",d[1].y+"px"),m&1&&C(e,"--size-x",d[0].x+"px"),m&1&&C(e,"--size-y",d[0].y+"px"),m&16&&a!==(a=d[4].x+"")&&J(p,a),m&16&&r!==(r=d[4].y+"")&&J(w,r)},i:P,o:P,d(d){d&&(_(e),_(l),_(s)),n[6](null),n[7](null),h=!1,z()}}}function te(n,e,t){return Math.min(Math.max(n,e),t)}function we(n,e,t){let{containerSize:l=new y(128,128)}=e,{joystickSize:s=new y(64,64)}=e;const i=new y;let a,p,c=!1;const r=new y,w=ne();function h(f){c=!0,i.x=f.clientX,i.y=f.clientY,d(f),window.addEventListener("mousemove",z),window.addEventListener("mouseup",m)}function z(f){c&&d(f)}function d(f){const u=new y(f.clientX,f.clientY),g=a.getBoundingClientRect(),R=new y(g.width,g.height),O=new y((g.left+g.right)/2,(g.top+g.bottom)/2),Q=p.getBoundingClientRect(),H=new y(Q.width,Q.height),K=new y((R.x-H.x)/2,(R.y-H.y)/2),W=u.sub(O);t(4,r.x=te(W.x,-K.x,K.x),r),t(4,r.y=te(W.y,-K.y,K.y),r),w("dragged",{clampedOffset:r})}function m(){c=!1,window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",m)}function v(f){N[f?"unshift":"push"](()=>{p=f,t(3,p)})}function o(f){N[f?"unshift":"push"](()=>{a=f,t(2,a)})}return n.$$set=f=>{"containerSize"in f&&t(0,l=f.containerSize),"joystickSize"in f&&t(1,s=f.joystickSize)},[l,s,a,p,r,h,v,o]}class ye extends U{constructor(e){super(),q(this,e,we,ve,Y,{containerSize:0,joystickSize:1})}}function be(n){let e,t,l,s;return{c(){e=S("div"),t=S("div"),this.h()},l(i){e=x(i,"DIV",{class:!0,style:!0});var a=M(e);t=x(a,"DIV",{class:!0}),M(t).forEach(_),a.forEach(_),this.h()},h(){D(t,"class","tick svelte-gv6tps"),D(e,"class","knob svelte-gv6tps"),C(e,"--angle",n[1]+"deg")},m(i,a){b(i,e,a),k(e,t),n[3](e),l||(s=T(e,"mousedown",n[2]),l=!0)},p(i,[a]){a&2&&C(e,"--angle",i[1]+"deg")},i:P,o:P,d(i){i&&_(e),n[3](null),l=!1,s()}}}function ke(n,e){let t=e-n;return t=t%360,t>180&&(t-=360),t<-180&&(t+=360),t}function ze(n,e,t){const l=new y;let s,i=!1,a=new y,p=0,c=0,r=0;const w=ne();function h(o){i=!0,l.x=o.clientX,l.y=o.clientY,d(o),window.addEventListener("mousemove",z),window.addEventListener("mouseup",m)}function z(o){i&&d(o)}function d(o){const f=new y(o.clientX,o.clientY),u=s.getBoundingClientRect(),g=new y((u.left+u.right)/2,(u.top+u.bottom)/2);a=f.sub(g);let O=Math.atan2(a.y,a.x)*(180/Math.PI)+90;r=ke(c,O),t(1,p+=r),w("angleChanged",{knobAngle:p}),c=O}function m(){i=!1,window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",m)}function v(o){N[o?"unshift":"push"](()=>{s=o,t(0,s)})}return[s,p,h,v]}class Ce extends U{constructor(e){super(),q(this,e,ze,be,Y,{})}}function Ee(n){let e,t,l;return{c(){e=S("input"),this.h()},l(s){e=x(s,"INPUT",{type:!0,min:!0,max:!0,step:!0}),this.h()},h(){D(e,"type","range"),D(e,"min",n[1]),D(e,"max",n[2]),D(e,"step",n[3])},m(s,i){b(s,e,i),Z(e,n[0]),t||(l=[T(e,"change",n[4]),T(e,"input",n[4])],t=!0)},p(s,[i]){i&2&&D(e,"min",s[1]),i&4&&D(e,"max",s[2]),i&8&&D(e,"step",s[3]),i&1&&Z(e,s[0])},i:P,o:P,d(s){s&&_(e),t=!1,ue(l)}}}function $e(n,e,t){let{min:l=0}=e,{max:s=100}=e,{step:i=1}=e,{value:a=0}=e;function p(){a=re(this.value),t(0,a)}return n.$$set=c=>{"min"in c&&t(1,l=c.min),"max"in c&&t(2,s=c.max),"step"in c&&t(3,i=c.step),"value"in c&&t(0,a=c.value)},[a,l,s,i,p]}class Se extends U{constructor(e){super(),q(this,e,$e,Ee,Y,{min:1,max:2,step:3,value:0})}}function xe(n){let e,t,l=n[2].x.toFixed(0)+"",s,i,a=n[2].y.toFixed(0)+"",p;return{c(){e=S("p"),t=E("offset is "),s=E(l),i=E(" : "),p=E(a)},l(c){e=x(c,"P",{});var r=M(e);t=$(r,"offset is "),s=$(r,l),i=$(r," : "),p=$(r,a),r.forEach(_)},m(c,r){b(c,e,r),k(e,t),k(e,s),k(e,i),k(e,p)},p:P,d(c){c&&_(e)}}}function De(n){let e,t,l,s,i=(n[1]?n[1].toFixed(2):"0.00")+"",a,p,c,r,w,h,z,d,m;e=new Ce({}),e.$on("angleChanged",n[4]),h=new ye({props:{containerSize:new y(1024,512),joystickSize:new y(96,96)}}),h.$on("angleChanged",n[5]);let v=n[2]&&xe(n);return{c(){B(e.$$.fragment),t=j(),l=S("p"),s=E("angle is "),a=E(i),p=E(" degrees"),c=j(),r=S("br"),w=j(),B(h.$$.fragment),z=j(),v&&v.c(),d=ee()},l(o){A(e.$$.fragment,o),t=I(o),l=x(o,"P",{});var f=M(l);s=$(f,"angle is "),a=$(f,i),p=$(f," degrees"),f.forEach(_),c=I(o),r=x(o,"BR",{}),w=I(o),A(h.$$.fragment,o),z=I(o),v&&v.l(o),d=ee()},m(o,f){F(e,o,f),b(o,t,f),b(o,l,f),k(l,s),k(l,a),k(l,p),b(o,c,f),b(o,r,f),b(o,w,f),F(h,o,f),b(o,z,f),v&&v.m(o,f),b(o,d,f),m=!0},p(o,f){(!m||f&2)&&i!==(i=(o[1]?o[1].toFixed(2):"0.00")+"")&&J(a,i),o[2]&&v.p(o,f)},i(o){m||(L(e.$$.fragment,o),L(h.$$.fragment,o),m=!0)},o(o){V(e.$$.fragment,o),V(h.$$.fragment,o),m=!1},d(o){o&&(_(t),_(l),_(c),_(r),_(w),_(z),_(d)),X(e,o),X(h,o),v&&v.d(o)}}}function Me(n){let e,t,l,s,i,a="baba",p,c,r,w,h,z,d,m,v;e=new pe({});function o(u){n[3](u)}let f={step:1};return n[0]!==void 0&&(f.value=n[0]),h=new Se({props:f}),N.push(()=>de(h,"value",o)),m=new he({props:{$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){B(e.$$.fragment),t=j(),l=S("p"),s=E("Value of the slider is "),i=S("kbd"),i.textContent=a,p=j(),c=S("code"),r=E(n[0]),w=j(),B(h.$$.fragment),d=j(),B(m.$$.fragment)},l(u){A(e.$$.fragment,u),t=I(u),l=x(u,"P",{});var g=M(l);s=$(g,"Value of the slider is "),i=x(g,"KBD",{"data-svelte-h":!0}),ce(i)!=="svelte-15gsgs4"&&(i.textContent=a),p=I(g),c=x(g,"CODE",{});var R=M(c);r=$(R,n[0]),R.forEach(_),g.forEach(_),w=I(u),A(h.$$.fragment,u),d=I(u),A(m.$$.fragment,u)},m(u,g){F(e,u,g),b(u,t,g),b(u,l,g),k(l,s),k(l,i),k(l,p),k(l,c),k(c,r),b(u,w,g),F(h,u,g),b(u,d,g),F(m,u,g),v=!0},p(u,[g]){(!v||g&1)&&J(r,u[0]);const R={};!z&&g&1&&(z=!0,R.value=u[0],me(()=>z=!1)),h.$set(R);const O={};g&66&&(O.$$scope={dirty:g,ctx:u}),m.$set(O)},i(u){v||(L(e.$$.fragment,u),L(h.$$.fragment,u),L(m.$$.fragment,u),v=!0)},o(u){V(e.$$.fragment,u),V(h.$$.fragment,u),V(m.$$.fragment,u),v=!1},d(u){u&&(_(t),_(l),_(w),_(d)),X(e,u),X(h,u),X(m,u)}}}function Re(n,e,t){let l,s,i;function a(r){l=r,t(0,l)}return[l,s,i,a,r=>{t(1,s=r.detail.knobAngle)},r=>{t(1,s=r.detail.clampedOffset)}]}class Le extends U{constructor(e){super(),q(this,e,Re,Me,Y,{})}}export{Le as component};
